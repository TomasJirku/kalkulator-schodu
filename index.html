<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalkulačka schodů dle ČSN 73 4130 - Zdarma online nástroj</title>
    <meta name="description" content="Bezplatná online kalkulačka pro výpočet a návrh schodiště podle české normy ČSN 73 4130. Včetně vizualizace a vřetenových stupňů.">
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4267762043602611"
         crossorigin="anonymous"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
            background: #f3f4f6;
            color: #1f2937;
            line-height: 1.6;
        }
        
        .header {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
            padding: 2rem 1rem;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .header h1 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }
        
        .header p {
            font-size: 1rem;
            opacity: 0.9;
        }
        
        .ad-banner-top {
            background: #fff;
            border: 2px dashed #d1d5db;
            padding: 1rem;
            text-align: center;
            margin: 1rem auto;
            max-width: 728px;
            min-height: 90px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6b7280;
            font-size: 0.875rem;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1rem;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        @media (max-width: 968px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            .ad-sidebar {
                display: none;
            }
        }
        
        .ad-sidebar {
            background: #fff;
            border: 2px dashed #d1d5db;
            padding: 1rem;
            text-align: center;
            color: #6b7280;
            font-size: 0.875rem;
            min-height: 600px;
            position: sticky;
            top: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .calculator-section {
            background: white;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            padding: 1.5rem;
        }
        
        .input-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .input-group {
            display: flex;
            flex-direction: column;
        }
        
        label {
            font-weight: 600;
            margin-bottom: 0.5rem;
            font-size: 0.875rem;
            color: #374151;
        }
        
        input, select {
            padding: 0.75rem;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 1rem;
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        .checkbox-group {
            display: flex;
            align-items: center;
            margin: 1rem 0;
        }
        
        .checkbox-group input {
            width: auto;
            margin-right: 0.5rem;
        }
        
        button {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 0.75rem 2rem;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        button:hover {
            background: #2563eb;
        }
        
        .results {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 6px;
            padding: 1.5rem;
            margin-top: 1.5rem;
        }
        
        .result-item {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .result-item:last-child {
            border-bottom: none;
        }
        
        .status-ok {
            color: #059669;
            font-weight: 600;
        }
        
        .status-error {
            color: #dc2626;
            font-weight: 600;
        }
        
        .canvas-container {
            margin-top: 1.5rem;
            border: 1px solid #e5e7eb;
            border-radius: 6px;
            overflow: hidden;
            background: white;
        }
        
        canvas {
            display: block;
            width: 100%;
            height: auto;
        }
        
        .info-box {
            background: #eff6ff;
            border-left: 4px solid #3b82f6;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 4px;
        }
        
        .ad-banner-bottom {
            background: #fff;
            border: 2px dashed #d1d5db;
            padding: 1rem;
            text-align: center;
            margin: 1rem auto;
            max-width: 728px;
            min-height: 90px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6b7280;
            font-size: 0.875rem;
        }
        
        footer {
            background: #1f2937;
            color: #9ca3af;
            text-align: center;
            padding: 2rem 1rem;
            margin-top: 2rem;
        }
        
        footer a {
            color: #60a5fa;
            text-decoration: none;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>⚙️ Kalkulačka schodů dle ČSN 73 4130</h1>
        <p>Profesionální návrh schodiště online zdarma</p>
    </div>
    
    <!-- ============================================ -->
    <!-- REKLAMA NAHOŘE (728x90)                     -->
    <!-- Po schválení AdSense, nahraď tento div za:  -->
    <!-- <ins class="adsbygoogle" style="display:inline-block;width:728px;height:90px" data-ad-client="ca-pub-XXXXX" data-ad-slot="XXXXX"></ins> -->
    <!-- A na konec stránky přidej: <script>(adsbygoogle = window.adsbygoogle || []).push({});</script> -->
    <!-- ============================================ -->
    <div class="ad-banner-top">
        <div>
            📢 Zde bude reklama 728x90<br>
            <small>Nahraď po schválení AdSense</small>
        </div>
    </div>
    
    <div class="container">
        <div class="main-content">
            <!-- ============================================ -->
            <!-- POSTRANNÍ REKLAMA (300x600)                 -->
            <!-- Po schválení AdSense, nahraď tento div za:  -->
            <!-- <ins class="adsbygoogle" style="display:inline-block;width:300px;height:600px" data-ad-client="ca-pub-XXXXX" data-ad-slot="XXXXX"></ins> -->
            <!-- ============================================ -->
            <div class="ad-sidebar">
                <div>
                    📢 Zde bude<br>
                    postranní reklama<br>
                    300x600<br><br>
                    <small>Nahraď po schválení AdSense</small>
                </div>
            </div>
            
            <div>
                <div class="calculator-section">
                    <h2 style="margin-bottom: 1rem;">Vstupní parametry</h2>
                    
                    <div class="input-grid">
                        <div class="input-group">
                            <label>Celková výška (mm)</label>
                            <input type="number" id="totalHeight" value="2800" step="10">
                        </div>
                        
                        <div class="input-group">
                            <label>Šířka ramene (mm)</label>
                            <input type="number" id="stairWidth" value="1000" step="50">
                        </div>
                        
                        <div class="input-group">
                            <label>Počet stupňů</label>
                            <input type="number" id="steps" value="16" min="3" max="30">
                        </div>
                    </div>
                    
                    <div class="checkbox-group">
                        <input type="checkbox" id="useWinding">
                        <label style="margin: 0;">Zatočit schodiště</label>
                    </div>
                    
                    <div id="windingOptions" style="display: none;">
                        <div class="input-grid">
                            <div class="input-group">
                                <label>Max. délka přímé části (mm)</label>
                                <input type="number" id="maxLength" value="3000" step="100">
                            </div>
                            
                            <div class="input-group">
                                <label>Počet vřetenových stupňů</label>
                                <input type="number" id="windingSteps" value="5" min="3">
                            </div>
                            
                            <div class="input-group">
                                <label>Úhel zatočení</label>
                                <select id="turnAngle">
                                    <option value="90">90°</option>
                                    <option value="180">180°</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <button onclick="calculate()">Vypočítat schodiště</button>
                    
                    <div class="results" id="results" style="display: none;"></div>
                    
                    <div class="info-box">
                        <strong>ℹ️ Požadavky ČSN 73 4130:</strong><br>
                        • Výška stupně max 190 mm<br>
                        • Šířka stupně min 250 mm<br>
                        • Pochodlnost 620-640 mm (optimálně 630 mm)<br>
                        • Šířka ramene min 900 mm<br>
                        • Vřetenové stupně: min 100 mm na užší straně
                    </div>
                    
                    <div class="canvas-container">
                        <canvas id="canvas" width="1000" height="600"></canvas>
                    </div>
                    
                    <!-- Nová sekce: Jak používat -->
                    <div style="margin-top: 2rem; padding-top: 2rem; border-top: 2px solid #e5e7eb;">
                        <h2 style="margin-bottom: 1rem; color: #1f2937;">📖 Jak používat kalkulačku</h2>
                        
                        <h3 style="font-size: 1.1rem; margin: 1.5rem 0 0.5rem; color: #374151;">Krok 1: Zadejte základní parametry</h3>
                        <p style="line-height: 1.8; color: #4b5563;">
                            Začněte zadáním <strong>celkové výšky</strong> vašeho schodiště v milimetrech. To je vzdálenost od podlahy spodního podlaží k podlaze horního podlaží. Dále zadejte <strong>šířku schodišťového ramene</strong> (minimálně 900 mm dle normy) a <strong>počet stupňů</strong>.
                        </p>
                        
                        <h3 style="font-size: 1.1rem; margin: 1.5rem 0 0.5rem; color: #374151;">Krok 2: Kontrola výpočtu</h3>
                        <p style="line-height: 1.8; color: #4b5563;">
                            Program automaticky vypočítá výšku a šířku stupně podle vzorce pochodlnosti <strong>2h + s = 630 mm</strong>. Zelené zaškrtnutí ✓ znamená, že parametr splňuje normu ČSN 73 4130. Červený křížek ✗ upozorňuje na nesoulad s normou.
                        </p>
                        
                        <h3 style="font-size: 1.1rem; margin: 1.5rem 0 0.5rem; color: #374151;">Krok 3: Zatočení schodiště (volitelné)</h3>
                        <p style="line-height: 1.8; color: #4b5563;">
                            Pokud máte omezený prostor, zaškrtněte možnost <strong>"Zatočit schodiště"</strong>. Zadejte maximální délku přímé části a program automaticky navrhne schodiště s vřetenovými stupni. Můžete zvolit zatočení o 90° nebo 180°.
                        </p>
                        
                        <h3 style="font-size: 1.1rem; margin: 1.5rem 0 0.5rem; color: #374151;">Krok 4: Vizualizace</h3>
                        <p style="line-height: 1.8; color: #4b5563;">
                            Po výpočtu se automaticky zobrazí grafická vizualizace schodiště. Můžete tak vidět, jak bude vaše schodiště vypadat v půdorysu a lépe si představit prostorové uspořádání.
                        </p>
                    </div>
                    
                    <!-- Nová sekce: O normě ČSN -->
                    <div style="margin-top: 2rem; padding-top: 2rem; border-top: 2px solid #e5e7eb;">
                        <h2 style="margin-bottom: 1rem; color: #1f2937;">📏 O normě ČSN 73 4130</h2>
                        <p style="line-height: 1.8; color: #4b5563; margin-bottom: 1rem;">
                            Česká norma <strong>ČSN 73 4130 "Schodiště a šikmé rampy"</strong> stanovuje základní požadavky na navrhování schodišť v budovách. Tato norma zajišťuje bezpečnost a pohodlnost při používání schodů.
                        </p>
                        
                        <h3 style="font-size: 1.1rem; margin: 1.5rem 0 0.5rem; color: #374151;">Klíčové požadavky pro hlavní schodiště v rodinných domech:</h3>
                        <ul style="line-height: 1.8; color: #4b5563; margin-left: 1.5rem;">
                            <li><strong>Výška stupně (h):</strong> maximálně 190 mm</li>
                            <li><strong>Šířka stupně (s):</strong> minimálně 250 mm</li>
                            <li><strong>Pochodlnost:</strong> hodnota 2h + s by měla být 620-640 mm (optimálně 630 mm)</li>
                            <li><strong>Šířka schodišťového ramene:</strong> minimálně 900 mm</li>
                            <li><strong>Průchodná výška:</strong> minimálně 2100 mm</li>
                            <li><strong>Vřetenové stupně:</strong> na užší straně minimálně 100 mm, na chůzné linii minimálně 250 mm</li>
                        </ul>
                        
                        <p style="line-height: 1.8; color: #4b5563; margin-top: 1rem;">
                            Pochodlnost je klíčový parametr, který vyjadřuje vztah mezi výškou a šířkou stupně. Správná pochodlnost zajišťuje, že chůze po schodech je přirozená a bezpečná. Vzorec 2h + s = 630 mm vychází z průměrné délky lidského kroku.
                        </p>
                    </div>
                    
                    <!-- Nová sekce: Tipy pro návrh -->
                    <div style="margin-top: 2rem; padding-top: 2rem; border-top: 2px solid #e5e7eb;">
                        <h2 style="margin-bottom: 1rem; color: #1f2937;">💡 Praktické tipy pro návrh schodiště</h2>
                        
                        <div style="background: #fef3c7; padding: 1rem; border-radius: 6px; margin: 1rem 0;">
                            <strong style="color: #92400e;">⚠️ Důležité upozornění:</strong>
                            <p style="color: #92400e; margin-top: 0.5rem; line-height: 1.6;">
                                Tato kalkulačka slouží pouze pro orientační výpočty a předběžný návrh. Finální projekt schodiště by měl být vždy konzultován s odborníkem (architektem nebo statikem) a musí splňovat všechny požadavky stavebních předpisů.
                            </p>
                        </div>
                        
                        <h3 style="font-size: 1.1rem; margin: 1.5rem 0 0.5rem; color: #374151;">Kdy použít vřetenové stupně?</h3>
                        <p style="line-height: 1.8; color: #4b5563;">
                            Vřetenové (šikmé) stupně se používají, když potřebujete ušetřit prostor a zatočit schodiště. Jsou vhodné zejména pro malé domy nebo při rekonstrukcích, kde je prostor omezený. Dbajte však na to, aby šířka na chůzné linii byla minimálně 250 mm.
                        </p>
                        
                        <h3 style="font-size: 1.1rem; margin: 1.5rem 0 0.5rem; color: #374151;">Optimální počet stupňů</h3>
                        <p style="line-height: 1.8; color: #4b5563;">
                            Pro běžnou výšku podlaží 2,8 m je optimální 16-17 stupňů. To dává výšku stupně přibližně 165-175 mm, což je velmi pohodlné. Vyhněte se příliš vysokým stupňům (nad 180 mm) nebo příliš mnoha stupňům (více než 20 v jednom rameni).
                        </p>
                        
                        <h3 style="font-size: 1.1rem; margin: 1.5rem 0 0.5rem; color: #374151;">Materiály a konstrukce</h3>
                        <p style="line-height: 1.8; color: #4b5563;">
                            Schodiště lze realizovat z různých materiálů - dřevo, beton, kov nebo jejich kombinace. Volba materiálu ovlivňuje nejen vzhled, ale i akustiku, údržbu a cenu. Dřevěné schodiště je nejoblíbenější pro rodinné domy díky příznivé ceně a estetice.
                        </p>
                    </div>
                    
                    <!-- Nová sekce: FAQ -->
                    <div style="margin-top: 2rem; padding-top: 2rem; border-top: 2px solid #e5e7eb;">
                        <h2 style="margin-bottom: 1rem; color: #1f2937;">❓ Často kladené otázky (FAQ)</h2>
                        
                        <div style="margin: 1.5rem 0;">
                            <h3 style="font-size: 1.1rem; margin-bottom: 0.5rem; color: #374151;">Co znamená pochodlnost?</h3>
                            <p style="line-height: 1.8; color: #4b5563;">
                                Pochodlnost je vztah mezi výškou a šířkou stupně vyjádřený vzorcem 2h + s. Optimální hodnota 630 mm odpovídá průměrnému lidskému kroku a zajišťuje pohodlnou a bezpečnou chůzi.
                            </p>
                        </div>
                        
                        <div style="margin: 1.5rem 0;">
                            <h3 style="font-size: 1.1rem; margin-bottom: 0.5rem; color: #374151;">Jaká je minimální šířka schodiště?</h3>
                            <p style="line-height: 1.8; color: #4b5563;">
                                Pro hlavní schodiště v rodinném domě je minimální šířka 900 mm dle ČSN 73 4130. Pro vedlejší schodiště (např. do sklepa) může být min. 750 mm. Doporučená šířka pro pohodlné užívání je 1000-1100 mm.
                            </p>
                        </div>
                        
                        <div style="margin: 1.5rem 0;">
                            <h3 style="font-size: 1.1rem; margin-bottom: 0.5rem; color: #374151;">Kolik prostoru potřebuji pro schodiště?</h3>
                            <p style="line-height: 1.8; color: #4b5563;">
                                Přímé schodiště pro výšku 2,8 m zabere přibližně 4-5 metrů v délce. Pokud máte omezený prostor, použijte zatočené schodiště s vřetenovými stupni, které může ušetřit až 40% délky.
                            </p>
                        </div>
                        
                        <div style="margin: 1.5rem 0;">
                            <h3 style="font-size: 1.1rem; margin-bottom: 0.5rem; color: #374151;">Musím mít všechny stupně stejně vysoké?</h3>
                            <p style="line-height: 1.8; color: #4b5563;">
                                Ano! Všechny stupně v jednom schodišti musí mít stejnou výšku. Rozdílná výška stupňů je velmi nebezpečná a může vést k pádům. Kalkulačka proto počítá s rovnoměrným rozdělením celkové výšky na všechny stupně.
                            </p>
                        </div>
                        
                        <div style="margin: 1.5rem 0;">
                            <h3 style="font-size: 1.1rem; margin-bottom: 0.5rem; color: #374151;">Je tento nástroj zdarma?</h3>
                            <p style="line-height: 1.8; color: #4b5563;">
                                Ano, kalkulačka je zcela zdarma a můžete ji používat bez omezení. Provoz stránky je financován z reklamních příjmů, díky kterým můžeme poskytovat tento nástroj bezplatně všem stavebníkům.
                            </p>
                        </div>
                    </div>
                    
                    <!-- Nová sekce: O projektu -->
                    <div style="margin-top: 2rem; padding-top: 2rem; border-top: 2px solid #e5e7eb;">
                        <h2 style="margin-bottom: 1rem; color: #1f2937;">ℹ️ O projektu</h2>
                        <p style="line-height: 1.8; color: #4b5563;">
                            Tato kalkulačka schodů byla vytvořena s cílem usnadnit návrh schodiště podle české normy ČSN 73 4130. Nástroj je určen pro stavebníky, architekty, projektanty a všechny, kdo potřebují rychle a přesně vypočítat parametry schodiště.
                        </p>
                        <p style="line-height: 1.8; color: #4b5563; margin-top: 1rem;">
                            Program automaticky kontroluje všechny klíčové parametry a okamžitě upozorní na případné nesoulady s normou. Vizualizace pomáhá lépe si představit výsledné schodiště ještě před jeho realizací.
                        </p>
                        <p style="line-height: 1.8; color: #4b5563; margin-top: 1rem;">
                            <strong>Verze:</strong> 1.0 | <strong>Poslední aktualizace:</strong> 2025
                        </p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ============================================ -->
        <!-- REKLAMA DOLE (728x90)                       -->
        <!-- Po schválení AdSense, nahraď tento div      -->
        <!-- ============================================ -->
        <div class="ad-banner-bottom">
            <div>
                📢 Zde bude reklama 728x90<br>
                <small>Nahraď po schválení AdSense</small>
            </div>
        </div>
    </div>
    
    <footer>
        <p>© 2025 Kalkulačka schodů | Vytvořeno pro profesionální návrh schodišť</p>
        <p style="margin-top: 0.5rem; font-size: 0.875rem;">
            Nástroj pro výpočet podle české normy ČSN 73 4130
        </p>
    </footer>

    <script>
        document.getElementById('useWinding').addEventListener('change', function() {
            document.getElementById('windingOptions').style.display = this.checked ? 'block' : 'none';
        });
        
        function calculate() {
            const totalHeight = parseFloat(document.getElementById('totalHeight').value);
            const stairWidth = parseFloat(document.getElementById('stairWidth').value);
            const steps = parseInt(document.getElementById('steps').value);
            const useWinding = document.getElementById('useWinding').checked;
            const maxLength = parseFloat(document.getElementById('maxLength').value);
            const windingSteps = parseInt(document.getElementById('windingSteps').value);
            const turnAngle = parseInt(document.getElementById('turnAngle').value);
            
            const stepHeight = totalHeight / steps;
            const stepDepth = 630 - 2 * stepHeight;
            const straightLength = stepDepth * (steps - 1);
            const pochodlnost = 2 * stepHeight + stepDepth;
            
            const checks = {
                stepHeight: stepHeight <= 190,
                stepDepth: stepDepth >= 250,
                pochodlnost: pochodlnost >= 620 && pochodlnost <= 640,
                stairWidth: stairWidth >= 900
            };
            
            const needsWinding = useWinding && straightLength > maxLength;
            
            let html = '<h3 style="margin-bottom: 1rem;">Výsledky výpočtu</h3>';
            
            html += `<div class="result-item">
                <span>Výška stupně:</span>
                <span class="${checks.stepHeight ? 'status-ok' : 'status-error'}">
                    ${stepHeight.toFixed(1)} mm ${checks.stepHeight ? '✓' : '✗'}
                </span>
            </div>`;
            
            html += `<div class="result-item">
                <span>Šířka stupně:</span>
                <span class="${checks.stepDepth ? 'status-ok' : 'status-error'}">
                    ${stepDepth.toFixed(1)} mm ${checks.stepDepth ? '✓' : '✗'}
                </span>
            </div>`;
            
            html += `<div class="result-item">
                <span>Pochodlnost (2h+s):</span>
                <span class="${checks.pochodlnost ? 'status-ok' : 'status-error'}">
                    ${pochodlnost.toFixed(1)} mm ${checks.pochodlnost ? '✓' : '✗'}
                </span>
            </div>`;
            
            html += `<div class="result-item">
                <span>Celková délka přímá:</span>
                <span>${straightLength.toFixed(0)} mm</span>
            </div>`;
            
            if (needsWinding) {
                const straightSteps = steps - windingSteps;
                const straightPartLength = stepDepth * straightSteps;
                const innerRadius = 150;
                const outerRadius = innerRadius + stairWidth;
                const anglePerStep = (turnAngle * Math.PI / 180) / windingSteps;
                const walkingLineRadius = innerRadius + (stairWidth * 2 / 3);
                const arcLengthPerStep = walkingLineRadius * anglePerStep;
                
                html += `<div style="margin-top: 1rem; padding-top: 1rem; border-top: 2px solid #e5e7eb;">
                    <strong>Vřetenové stupně:</strong><br>
                    Přímých: ${straightSteps}, Vřetenových: ${windingSteps}<br>
                    Šířka na chůzné linii: ${arcLengthPerStep.toFixed(0)} mm<br>
                    Vnitřní poloměr: ${innerRadius} mm
                </div>`;
                
                drawWindingStairs(straightSteps, windingSteps, straightPartLength, stepDepth, 
                                 innerRadius, outerRadius, anglePerStep, stairWidth, turnAngle);
            } else {
                drawStraightStairs(steps, stepDepth, straightLength, stairWidth);
            }
            
            const allValid = Object.values(checks).every(v => v);
            html += `<div style="margin-top: 1rem; padding: 1rem; background: ${allValid ? '#d1fae5' : '#fee2e2'}; border-radius: 6px; text-align: center; font-weight: 600;">
                ${allValid ? '✓ Schodiště splňuje ČSN 73 4130' : '✗ Schodiště nesplňuje některé požadavky'}
            </div>`;
            
            document.getElementById('results').innerHTML = html;
            document.getElementById('results').style.display = 'block';
        }
        
        function drawStraightStairs(steps, stepDepth, straightLength, stairWidth) {
            const canvas = document.getElementById('canvas');
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            const scale = 0.15;
            const margin = 50;
            
            const scaledStepDepth = stepDepth * scale;
            const scaledWidth = stairWidth * scale;
            const scaledLength = straightLength * scale;
            
            ctx.fillStyle = '#e0f2fe';
            ctx.fillRect(margin, margin, scaledLength, scaledWidth);
            ctx.strokeStyle = '#0284c7';
            ctx.lineWidth = 2;
            ctx.strokeRect(margin, margin, scaledLength, scaledWidth);
            
            ctx.strokeStyle = '#64748b';
            ctx.lineWidth = 1;
            ctx.setLineDash([4, 3]);
            for (let i = 0; i <= steps; i++) {
                const x = margin + i * scaledStepDepth;
                ctx.beginPath();
                ctx.moveTo(x, margin);
                ctx.lineTo(x, margin + scaledWidth);
                ctx.stroke();
            }
            
            ctx.setLineDash([]);
            ctx.fillStyle = '#1f2937';
            ctx.font = 'bold 14px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(`Délka: ${straightLength.toFixed(0)} mm`, margin + scaledLength / 2, margin - 20);
        }
        
        function drawWindingStairs(straightSteps, windingSteps, straightPartLength, stepDepth,
                                   innerRadius, outerRadius, anglePerStep, stairWidth, turnAngle) {
            const canvas = document.getElementById('canvas');
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            const scale = 0.12;
            const margin = 100;
            
            const scaledStepDepth = stepDepth * scale;
            const scaledWidth = stairWidth * scale;
            const scaledStraightLength = straightPartLength * scale;
            const scaledInnerRadius = innerRadius * scale;
            const scaledOuterRadius = outerRadius * scale;
            
            const originX = margin;
            const originY = margin;
            const straightEndX = originX + scaledStraightLength;
            const centerX = straightEndX;
            const centerY = originY + scaledWidth + scaledInnerRadius;
            
            ctx.fillStyle = '#e0f2fe';
            ctx.fillRect(originX, originY, scaledStraightLength, scaledWidth);
            ctx.strokeStyle = '#0284c7';
            ctx.lineWidth = 2;
            ctx.strokeRect(originX, originY, scaledStraightLength, scaledWidth);
            
            ctx.strokeStyle = '#64748b';
            ctx.lineWidth = 1;
            for (let i = 0; i <= straightSteps; i++) {
                const x = originX + i * scaledStepDepth;
                ctx.beginPath();
                ctx.moveTo(x, originY);
                ctx.lineTo(x, originY + scaledWidth);
                ctx.stroke();
            }
            
            for (let i = 0; i < windingSteps; i++) {
                const startAngle = -Math.PI / 2 + i * anglePerStep;
                const endAngle = -Math.PI / 2 + (i + 1) * anglePerStep;
                
                ctx.fillStyle = i % 2 === 0 ? '#dbeafe' : '#bfdbfe';
                ctx.strokeStyle = '#0284c7';
                ctx.lineWidth = 2;
                
                ctx.beginPath();
                ctx.arc(centerX, centerY, scaledInnerRadius, startAngle, endAngle);
                ctx.arc(centerX, centerY, scaledOuterRadius, endAngle, startAngle, true);
                ctx.closePath();
                ctx.fill();
                ctx.stroke();
            }
            
            ctx.fillStyle = '#f59e0b';
            ctx.beginPath();
            ctx.arc(centerX, centerY, 4, 0, Math.PI * 2);
            ctx.fill();
            
            ctx.fillStyle = '#1f2937';
            ctx.font = 'bold 12px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(`Přímá část: ${straightSteps} stupňů`, originX + scaledStraightLength / 2, originY - 20);
        }
        
        calculate();
    </script>
    
    <!-- ============================================ -->
    <!-- Po schválení AdSense přidej sem na konec:   -->
    <!-- <script>(adsbygoogle = window.adsbygoogle || []).push({});</script> -->
    <!-- (Tento skript aktivuje všechny reklamy)      -->
    <!-- ============================================ -->
</body>
</html>